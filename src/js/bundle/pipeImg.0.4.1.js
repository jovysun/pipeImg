/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n/* WEBPACK VAR INJECTION */}.call(this, {}))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanM/MDA4NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9hbWQtb3B0aW9ucy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgX193ZWJwYWNrX2FtZF9vcHRpb25zX18gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/amd-options.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/harmony-module.js":
/*!*******************************************!*\
  !*** (webpack)/buildin/harmony-module.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vaGFybW9ueS1tb2R1bGUuanM/ODJiMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcmlnaW5hbE1vZHVsZSkge1xuXHRpZiAoIW9yaWdpbmFsTW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdHZhciBtb2R1bGUgPSBPYmplY3QuY3JlYXRlKG9yaWdpbmFsTW9kdWxlKTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJleHBvcnRzXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWVcblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/harmony-module.js\n");

/***/ }),

/***/ "./src/js/pipeImg.0.4.1.js":
/*!*********************************!*\
  !*** ./src/js/pipeImg.0.4.1.js ***!
  \*********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\n\nclass PipeImg {\n\n  constructor(options) {\n\n    // 默认配置参数\n    let defaults = {\n      // 选择图片按钮\n      selectBtn: '#J-select-btn',\n      // 放大按钮\n      upBtn: '#J-up-btn',\n      // 缩小按钮\n      downBtn: '#J-down-btn',\n      // 逆时针按钮\n      anticlockwiseBtn: '#J-anticlockwise-btn',\n      // 顺时针按钮\n      clockwiseBtn: '#J-clockwise-btn',\n      // 裁剪按钮\n      cropBtn: '#J-crop-btn',\n      // 下载按钮，必须为a标签\n      downloadBtn: '#J-download-btn',\n      // 工作区容器\n      workingContainer: '#J-working-container',\n      // 预览区容器\n      previewContainer: '#J-preview-container',\n      \n      // 裁剪后图片最大值\n      maxSize: 500,\n      // 放大缩小幅度\n      scaleStep: 10,\n\n      // 工作区边长\n      containerSize: 500,\n      // 裁剪区边长\n      cropW: 300,\n      cropH: 300,\n      // 裁剪后的图片类型\n      mime: 'image/jpeg',\n      // 遮挡区颜色\n      maskColor: 'rgba(0, 0, 0, 0.8)',\n\n\n      // 水印相关参数，若watermarkImg存在则用图片水印，否则用文字水印。\n      // 是否添加水印\n      hasMark: true,\n      // 水印图标地址\n      markIcon: null,\n      // 水印字体，值同css的font\n      markFont: '16px microsoft yahei',\n      // 水印字样式，可选值：color,gradient,pattern\n      markStyle: '#fff',\n      // 水印字文本\n      markText: 'UED',\n      // 水印字x轴位置\n      markX: 0,\n      // 水印字y轴位置\n      markY: 0,\n      sourceImgSrc: null,\n\n      // 回调事件\n      // 上传源图片回调函数\n      onValidateFile: (oFile) => {\n        // oFile的属性值示例：name:\"brandPublicty1.jpg\" size:134476 type:\"image/jpeg\"\n      },\n      // 裁剪完成回调函数\n      onCropped: (destImgData) => {}\n\n    };\n\n\n    this.options = Object.assign(defaults, options);\n\n    this.$selectBtn = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"_$\"])(this.options.selectBtn);\n    this.$upBtn = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"_$\"])(this.options.upBtn);\n    this.$downBtn = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"_$\"])(this.options.downBtn);\n    this.$anticlockwiseBtn = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"_$\"])(this.options.anticlockwiseBtn);\n    this.$clockwiseBtn = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"_$\"])(this.options.clockwiseBtn);\n    this.$cropBtn = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"_$\"])(this.options.cropBtn);\n    this.$downloadBtn = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"_$\"])(this.options.downloadBtn);\n    this.$workingContainer = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"_$\"])(this.options.workingContainer);\n    this.$previewContainer = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"_$\"])(this.options.previewContainer);\n\n    this.maxSize = this.options.maxSize;\n    this.scaleStep = this.options.scaleStep;\n    this.containerSize = this.options.containerSize;\n    this.cropW = this.options.cropW <= this.containerSize ? this.options.cropW : this.containerSize;\n    this.cropH = this.options.cropH <= this.containerSize ? this.options.cropH : this.containerSize;\n    this.mime = this.options.mime;\n\n\n    this.maskColor = this.options.maskColor;\n\n    this.hasMark = this.options.hasMark;\n    this.markIcon = this.options.markIcon;\n    this.markFont = this.options.markFont;\n    this.markStyle = this.options.markStyle;\n    this.markText = this.options.markText;\n    this.markX = this.options.markX;\n    this.markY = this.options.markY;\n    this.sourceImgSrc = this.options.sourceImgSrc;\n\n    this.onValidateFile = this.options.onValidateFile;\n    this.onCropped = this.options.onCropped;\n\n\n    // 全局变量\n    this.rotateCount = 0;\n\n\n    this.init();\n\n  }\n\n  getRotateNum(direction) {\n    let rotateNum = 0;\n    this.rotateCount += direction;\n    if (this.rotateCount > 3 || this.rotateCount < -3) {\n      this.rotateCount = 0;\n    }\n    if (this.rotateCount < 0) {\n      rotateNum = 4 + this.rotateCount;\n    } else {\n      rotateNum = this.rotateCount;\n    }\n    return rotateNum;\n  }\n\n  // img同drawImage第一个参数;rotateNum: 0,1,2,3，分别对应旋转的四个角度方向;imgType: 保存图片类型；cb回调函数，传参destImgData,w,h；\n  rotate(src, rotateNum, imgType, cb) {\n    Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"loadImage\"])(src, (img) => {\n      let rotateDeg = rotateNum * 90;\n      let sourceW0 = img.naturalWidth;\n      let sourceH0 = img.naturalHeight;\n\n      let max = Math.max(sourceW0, sourceH0);\n      let tempCvs = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"getCanvas\"])(max, max),\n        tempCtx = tempCvs.getContext('2d');\n\n      tempCtx.translate(max / 2, max / 2);\n      tempCtx.rotate(rotateDeg * Math.PI / 180);\n      tempCtx.translate(-max / 2, -max / 2);\n      tempCtx.drawImage(img, 0, 0);\n\n\n      let w = sourceW0,\n        h = sourceH0,\n        sx = 0,\n        sy = 0;\n      if (rotateNum === 1) {\n        w = sourceH0;\n        h = sourceW0;\n        sx = max - w;\n        sy = 0;\n\n      } else if (rotateNum === 2) {\n        w = sourceW0;\n        h = sourceH0;\n        sx = max - w;\n        sy = max - h;\n      } else if (rotateNum === 3) {\n        w = sourceH0;\n        h = sourceW0;\n        sx = 0;\n        sy = max - h;\n      } else {\n        w = sourceW0;\n        h = sourceH0;\n        sx = 0;\n        sy = 0;\n      }\n\n      let cvs = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"getCanvas\"])(w, h),\n        ctx = cvs.getContext('2d');\n\n      ctx.drawImage(tempCvs, sx, sy, w, h, 0, 0, w, h);\n\n      let data = cvs.toDataURL(imgType);\n      typeof cb === 'function' && cb(data, w, h);\n\n      // previewContainer.appendChild(cvs);\n    })\n\n  }\n  addMark(targetImg, cb) {\n    if (typeof cb !== 'function') return false;\n\n    if (targetImg.nodeName.toLowerCase() !== 'canvas') {\n      targetImg = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"getCanvas\"])(targetImg.width, targetImg.height);\n    }\n    let dContext = targetImg.getContext('2d');\n    if (this.hasMark) {\n      if (this.markIcon) {\n        Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"loadImage\"])(this.markIcon, (img) => {\n          if (!this.markX) {\n            this.markX = targetImg.width - img.naturalWidth;\n          }\n          if (!this.markY) {\n            this.markY = targetImg.height - img.naturalHeight;\n          }\n          dContext.drawImage(img, this.markX, this.markY);\n          cb(targetImg);\n        })\n\n      } else {\n        dContext.textAlign = \"end\";\n        dContext.font = this.markFont;\n        dContext.fillStyle = this.markStyle;\n        if (!this.markX) {\n          this.markX = targetImg.width - 10;\n        }\n        if (!this.markY) {\n          this.markY = targetImg.height - 10;\n        }\n        dContext.fillText(this.markText, this.markX, this.markY);\n        cb(targetImg);\n      }\n    } else {\n      cb(targetImg);\n    }\n\n  }\n  preview(data) {\n    // 裁剪后预览\n    this.$previewContainer && (this.$previewContainer.innerHTML = `<img src=\"${data}\">`);\n  }\n  download(data) {\n    // 提供下载，Safari不支持\n    let isSupportDownload = 'download' in document.createElement('a');\n    if (isSupportDownload && this.$downloadBtn) {\n      this.$downloadBtn.download = new Date().valueOf() + '_dest.' + this.mime.substr(this.mime.indexOf('image/') + 6);\n      this.$downloadBtn.href = data;\n    }\n  }\n  // 裁剪\n  crop(img, sx, sy, sWidth, sHeight, x, y, width, height) {\n    if (!img) return;\n\n    let destCanvas = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"getCanvas\"])(width, height),\n      dContext = destCanvas.getContext('2d');\n    dContext.drawImage(img, sx, sy, sWidth, sHeight, x, y, width, height);\n\n    this.addMark(destCanvas, (resultCvs) => {\n\n      let data = resultCvs.toDataURL('image/jpeg');\n      let size0 = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"getBase64Size\"])(data);\n      if (size0 > 1024 * this.maxSize) {\n        let quality = Math.floor(1024 * this.maxSize / size0 * 10) / 10;\n        // data = resultCvs.toDataURL('image/jpeg', quality);\n        data = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"compress\"])(resultCvs, quality);\n      }\n\n      let blob = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"base64Data2Blob\"])(data, this.mime);\n      console.log('end compress: ' + Math.ceil(blob.size / 1024));\n      let formData = Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"blob2FormData\"])(blob);\n      console.log('formData: ' + formData);\n\n      // 提供预览\n      this.preview(data);\n      // 提供下载\n      this.download(data);\n\n      // TODO 直接把base64格式图片数据传到后台\n      // TODO 作为文件形式用FormData提交到后台 \n      typeof this.onCropped === 'function' && this.onCropped(data);\n    });\n\n  }\n\n\n  init() {\n    let sourceImgEle, sourceW0, sourceH0, sourceW1, sourceH1, cacheSource,\n      borderWidth = (this.containerSize - this.cropW) / 2,\n      borderHeight = (this.containerSize - this.cropH) / 2;\n\n    let workingAreaHtml = '<div class=\"working-area\"><img><div class=\"mask\"></div></div>';\n    this.$workingContainer.innerHTML = workingAreaHtml;\n\n    let workingAreaEle = this.$workingContainer.querySelector('.working-area');\n    workingAreaEle.style.cssText = `position: relative;overflow: hidden;width: ${this.containerSize}px;height: ${this.containerSize}px;`;\n\n\n    sourceImgEle = this.$workingContainer.querySelector('img');\n    sourceImgEle.style.position = 'absolute';\n\n    let maskEle = this.$workingContainer.querySelector('.mask');\n    maskEle.style.cssText = `position: absolute;width: ${this.cropW}px;height: ${this.cropH}px;border-left: ${borderWidth}px solid ${this.maskColor};border-right: ${borderWidth}px solid ${this.maskColor};border-top: ${borderHeight}px solid ${this.maskColor};border-bottom: ${borderHeight}px solid ${this.maskColor};`;\n\n\n\n    Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"drag\"])(sourceImgEle, this.$workingContainer);\n\n    // 选择的源图片加载完初始化相关参数\n    let loadHandler = () => {\n      sourceW0 = sourceImgEle.naturalWidth;\n      sourceH0 = sourceImgEle.naturalHeight;\n      let sourceRatio = sourceW0 / sourceH0;\n\n      let top = 0,\n        left = 0;\n\n      if (sourceRatio > 1) { //宽大于高\n\n        sourceW1 = this.containerSize;\n        sourceH1 = sourceW1 / sourceRatio;\n\n        top = (this.containerSize - sourceH1) / 2;\n        left = 0;\n      } else {\n\n        sourceH1 = this.containerSize;\n        sourceW1 = sourceH1 * sourceRatio;\n\n        left = (this.containerSize - sourceW1) / 2;\n        top = 0;\n      }\n\n      sourceImgEle.style.cssText = `position: absolute;width: ${sourceW1}px;height: ${sourceH1}px;top: ${top}px;left: ${left}px;`;\n\n    }\n\n    sourceImgEle.addEventListener('load', loadHandler, false);\n\n\n    if (this.sourceImgSrc) {\n      sourceImgEle.src = this.sourceImgSrc;\n      sourceImgEle.style.width = 'auto';\n      sourceImgEle.style.height = 'auto';\n\n      cacheSource = this.sourceImgSrc;\n    }\n    // 按钮事件绑定\n    this.$selectBtn.addEventListener('click', (e) => {\n      Object(_util__WEBPACK_IMPORTED_MODULE_0__[\"chooseFile\"])(this.$selectBtn, function (data) {\n        sourceImgEle.src = data;\n        sourceImgEle.style.width = 'auto';\n        sourceImgEle.style.height = 'auto';\n\n        cacheSource = data;\n\n      }, this.onValidateFile);\n\n    }, false);\n\n\n    // 放大，缩小，约定up值为1或者-1，表示放大，缩小\n    let scaleImg = (scaleUp) => {\n      let sourceRatio = sourceW0 / sourceH0;\n      sourceH1 += this.scaleStep * scaleUp;\n      sourceW1 = sourceH1 * sourceRatio;\n\n      sourceImgEle.style.width = sourceW1 + 'px';\n      sourceImgEle.style.height = sourceH1 + 'px';\n    };\n\n    this.$downBtn.addEventListener('click', () => {\n      scaleImg(-1);\n    }, false)\n    this.$upBtn.addEventListener('click', () => {\n      scaleImg(1);\n    }, false)\n\n\n    this.$cropBtn.addEventListener('click', () => {\n\n      // 绘制要用图片的自然尺寸\n      let scaleRatio = sourceH0 / sourceH1;\n      let sy = (borderHeight - sourceImgEle.offsetTop) * scaleRatio,\n        sx = (borderWidth - sourceImgEle.offsetLeft) * scaleRatio,\n        sWidth = this.cropW * scaleRatio,\n        sHeight = this.cropH * scaleRatio;\n\n      this.crop(sourceImgEle, sx, sy, sWidth, sHeight, 0, 0, sWidth, sHeight);\n\n\n    }, false);\n\n\n\n    this.$clockwiseBtn.addEventListener('click', () => {\n      let rotateNum = this.getRotateNum(1);\n      // sourceImgEle.style.transform = `rotate(${rotateNum * 90}deg)`;\n      this.rotate(cacheSource, rotateNum, this.mime, (data, w, h) => {\n        sourceImgEle.src = data;\n      })\n    }, false);\n    this.$anticlockwiseBtn.addEventListener('click', () => {\n      let rotateNum = this.getRotateNum(-1);\n      // sourceImgEle.style.transform = `rotate(${rotateNum * 90}deg)`;\n      this.rotate(cacheSource, rotateNum, this.mime, (data, w, h) => {\n        sourceImgEle.src = data;\n      })\n    }, false);\n\n  }\n\n}\n\n\nif (typeof module !== \"undefined\" && module.exports) { \n  module.exports = PipeImg; \n} else if (typeof define === \"function\" && __webpack_require__(/*! !webpack amd options */ \"./node_modules/webpack/buildin/amd-options.js\")) { \n  define(function(){return PipeImg;}); \n} else { \n  window.PipeImg = PipeImg;\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvcGlwZUltZy4wLjQuMS5qcz8yYjc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBdUk7O0FBRXZJOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQSxzQkFBc0IsZ0RBQUU7QUFDeEIsa0JBQWtCLGdEQUFFO0FBQ3BCLG9CQUFvQixnREFBRTtBQUN0Qiw2QkFBNkIsZ0RBQUU7QUFDL0IseUJBQXlCLGdEQUFFO0FBQzNCLG9CQUFvQixnREFBRTtBQUN0Qix3QkFBd0IsZ0RBQUU7QUFDMUIsNkJBQTZCLGdEQUFFO0FBQy9CLDZCQUE2QixnREFBRTs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLGlDQUFpQztBQUN6RDtBQUNBLElBQUksdURBQVM7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsdURBQVM7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsdURBQVM7QUFDekI7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHVEQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1REFBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLEtBQUs7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQix1REFBUztBQUM5QjtBQUNBOztBQUVBOztBQUVBO0FBQ0Esa0JBQWtCLDJEQUFhO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0RBQVE7QUFDdkI7O0FBRUEsaUJBQWlCLDZEQUFlO0FBQ2hDO0FBQ0EscUJBQXFCLDJEQUFhO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx1REFBdUQsaUJBQWlCLFNBQVMsbUJBQW1CLEdBQUcsVUFBVSxtQkFBbUIsR0FBRzs7O0FBR3ZJO0FBQ0E7O0FBRUE7QUFDQSxnREFBZ0QsU0FBUyxXQUFXLEdBQUcsVUFBVSxXQUFXLEdBQUcsZUFBZSxZQUFZLFdBQVcsZ0JBQWdCLGdCQUFnQixZQUFZLFdBQVcsZ0JBQWdCLGNBQWMsYUFBYSxXQUFXLGdCQUFnQixpQkFBaUIsYUFBYSxXQUFXLGdCQUFnQjs7OztBQUkzVCxJQUFJLGtEQUFJOztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0QkFBNEI7O0FBRTVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdURBQXVELFNBQVMsU0FBUyxHQUFHLFVBQVUsU0FBUyxHQUFHLE9BQU8sSUFBSSxHQUFHLFFBQVEsS0FBSyxHQUFHOztBQUVoSTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHdEQUFVO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxPQUFPOztBQUVQLEtBQUs7OztBQUdMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7OztBQUdMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0EsS0FBSzs7OztBQUlMO0FBQ0E7QUFDQSxrREFBa0QsZUFBZTtBQUNqRTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0RBQWtELGVBQWU7QUFDakU7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMOztBQUVBOzs7QUFHQSxzRDtBQUNBLDJCO0FBQ0EsQ0FBQywwQ0FBMEMsZ0dBQVUsRztBQUNyRCxvQkFBb0IsZ0JBQWdCLEU7QUFDcEMsQ0FBQyxPO0FBQ0Q7QUFDQSIsImZpbGUiOiIuL3NyYy9qcy9waXBlSW1nLjAuNC4xLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtkcmFnLCBfJCwgbG9hZEltYWdlLCBnZXRDYW52YXMsIGdldEJhc2U2NFNpemUsIGNvbXByZXNzLCBiYXNlNjREYXRhMkJsb2IsIGJsb2IyRm9ybURhdGEsIGNob29zZUZpbGUsIHVwbG9hZEZpbGV9IGZyb20gJy4vdXRpbCc7XG5cbmNsYXNzIFBpcGVJbWcge1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblxuICAgIC8vIOm7mOiupOmFjee9ruWPguaVsFxuICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgIC8vIOmAieaLqeWbvueJh+aMiemSrlxuICAgICAgc2VsZWN0QnRuOiAnI0otc2VsZWN0LWJ0bicsXG4gICAgICAvLyDmlL7lpKfmjInpkq5cbiAgICAgIHVwQnRuOiAnI0otdXAtYnRuJyxcbiAgICAgIC8vIOe8qeWwj+aMiemSrlxuICAgICAgZG93bkJ0bjogJyNKLWRvd24tYnRuJyxcbiAgICAgIC8vIOmAhuaXtumSiOaMiemSrlxuICAgICAgYW50aWNsb2Nrd2lzZUJ0bjogJyNKLWFudGljbG9ja3dpc2UtYnRuJyxcbiAgICAgIC8vIOmhuuaXtumSiOaMiemSrlxuICAgICAgY2xvY2t3aXNlQnRuOiAnI0otY2xvY2t3aXNlLWJ0bicsXG4gICAgICAvLyDoo4HliarmjInpkq5cbiAgICAgIGNyb3BCdG46ICcjSi1jcm9wLWJ0bicsXG4gICAgICAvLyDkuIvovb3mjInpkq7vvIzlv4XpobvkuLph5qCH562+XG4gICAgICBkb3dubG9hZEJ0bjogJyNKLWRvd25sb2FkLWJ0bicsXG4gICAgICAvLyDlt6XkvZzljLrlrrnlmahcbiAgICAgIHdvcmtpbmdDb250YWluZXI6ICcjSi13b3JraW5nLWNvbnRhaW5lcicsXG4gICAgICAvLyDpooTop4jljLrlrrnlmahcbiAgICAgIHByZXZpZXdDb250YWluZXI6ICcjSi1wcmV2aWV3LWNvbnRhaW5lcicsXG4gICAgICBcbiAgICAgIC8vIOijgeWJquWQjuWbvueJh+acgOWkp+WAvFxuICAgICAgbWF4U2l6ZTogNTAwLFxuICAgICAgLy8g5pS+5aSn57yp5bCP5bmF5bqmXG4gICAgICBzY2FsZVN0ZXA6IDEwLFxuXG4gICAgICAvLyDlt6XkvZzljLrovrnplb9cbiAgICAgIGNvbnRhaW5lclNpemU6IDUwMCxcbiAgICAgIC8vIOijgeWJquWMuui+uemVv1xuICAgICAgY3JvcFc6IDMwMCxcbiAgICAgIGNyb3BIOiAzMDAsXG4gICAgICAvLyDoo4HliarlkI7nmoTlm77niYfnsbvlnotcbiAgICAgIG1pbWU6ICdpbWFnZS9qcGVnJyxcbiAgICAgIC8vIOmBruaMoeWMuuminOiJslxuICAgICAgbWFza0NvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjgpJyxcblxuXG4gICAgICAvLyDmsLTljbDnm7jlhbPlj4LmlbDvvIzoi6V3YXRlcm1hcmtJbWflrZjlnKjliJnnlKjlm77niYfmsLTljbDvvIzlkKbliJnnlKjmloflrZfmsLTljbDjgIJcbiAgICAgIC8vIOaYr+WQpua3u+WKoOawtOWNsFxuICAgICAgaGFzTWFyazogdHJ1ZSxcbiAgICAgIC8vIOawtOWNsOWbvuagh+WcsOWdgFxuICAgICAgbWFya0ljb246IG51bGwsXG4gICAgICAvLyDmsLTljbDlrZfkvZPvvIzlgLzlkIxjc3PnmoRmb250XG4gICAgICBtYXJrRm9udDogJzE2cHggbWljcm9zb2Z0IHlhaGVpJyxcbiAgICAgIC8vIOawtOWNsOWtl+agt+W8j++8jOWPr+mAieWAvO+8mmNvbG9yLGdyYWRpZW50LHBhdHRlcm5cbiAgICAgIG1hcmtTdHlsZTogJyNmZmYnLFxuICAgICAgLy8g5rC05Y2w5a2X5paH5pysXG4gICAgICBtYXJrVGV4dDogJ1VFRCcsXG4gICAgICAvLyDmsLTljbDlrZd46L205L2N572uXG4gICAgICBtYXJrWDogMCxcbiAgICAgIC8vIOawtOWNsOWtl3novbTkvY3nva5cbiAgICAgIG1hcmtZOiAwLFxuICAgICAgc291cmNlSW1nU3JjOiBudWxsLFxuXG4gICAgICAvLyDlm57osIPkuovku7ZcbiAgICAgIC8vIOS4iuS8oOa6kOWbvueJh+Wbnuiwg+WHveaVsFxuICAgICAgb25WYWxpZGF0ZUZpbGU6IChvRmlsZSkgPT4ge1xuICAgICAgICAvLyBvRmlsZeeahOWxnuaAp+WAvOekuuS+i++8mm5hbWU6XCJicmFuZFB1YmxpY3R5MS5qcGdcIiBzaXplOjEzNDQ3NiB0eXBlOlwiaW1hZ2UvanBlZ1wiXG4gICAgICB9LFxuICAgICAgLy8g6KOB5Ymq5a6M5oiQ5Zue6LCD5Ye95pWwXG4gICAgICBvbkNyb3BwZWQ6IChkZXN0SW1nRGF0YSkgPT4ge31cblxuICAgIH07XG5cblxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy4kc2VsZWN0QnRuID0gXyQodGhpcy5vcHRpb25zLnNlbGVjdEJ0bik7XG4gICAgdGhpcy4kdXBCdG4gPSBfJCh0aGlzLm9wdGlvbnMudXBCdG4pO1xuICAgIHRoaXMuJGRvd25CdG4gPSBfJCh0aGlzLm9wdGlvbnMuZG93bkJ0bik7XG4gICAgdGhpcy4kYW50aWNsb2Nrd2lzZUJ0biA9IF8kKHRoaXMub3B0aW9ucy5hbnRpY2xvY2t3aXNlQnRuKTtcbiAgICB0aGlzLiRjbG9ja3dpc2VCdG4gPSBfJCh0aGlzLm9wdGlvbnMuY2xvY2t3aXNlQnRuKTtcbiAgICB0aGlzLiRjcm9wQnRuID0gXyQodGhpcy5vcHRpb25zLmNyb3BCdG4pO1xuICAgIHRoaXMuJGRvd25sb2FkQnRuID0gXyQodGhpcy5vcHRpb25zLmRvd25sb2FkQnRuKTtcbiAgICB0aGlzLiR3b3JraW5nQ29udGFpbmVyID0gXyQodGhpcy5vcHRpb25zLndvcmtpbmdDb250YWluZXIpO1xuICAgIHRoaXMuJHByZXZpZXdDb250YWluZXIgPSBfJCh0aGlzLm9wdGlvbnMucHJldmlld0NvbnRhaW5lcik7XG5cbiAgICB0aGlzLm1heFNpemUgPSB0aGlzLm9wdGlvbnMubWF4U2l6ZTtcbiAgICB0aGlzLnNjYWxlU3RlcCA9IHRoaXMub3B0aW9ucy5zY2FsZVN0ZXA7XG4gICAgdGhpcy5jb250YWluZXJTaXplID0gdGhpcy5vcHRpb25zLmNvbnRhaW5lclNpemU7XG4gICAgdGhpcy5jcm9wVyA9IHRoaXMub3B0aW9ucy5jcm9wVyA8PSB0aGlzLmNvbnRhaW5lclNpemUgPyB0aGlzLm9wdGlvbnMuY3JvcFcgOiB0aGlzLmNvbnRhaW5lclNpemU7XG4gICAgdGhpcy5jcm9wSCA9IHRoaXMub3B0aW9ucy5jcm9wSCA8PSB0aGlzLmNvbnRhaW5lclNpemUgPyB0aGlzLm9wdGlvbnMuY3JvcEggOiB0aGlzLmNvbnRhaW5lclNpemU7XG4gICAgdGhpcy5taW1lID0gdGhpcy5vcHRpb25zLm1pbWU7XG5cblxuICAgIHRoaXMubWFza0NvbG9yID0gdGhpcy5vcHRpb25zLm1hc2tDb2xvcjtcblxuICAgIHRoaXMuaGFzTWFyayA9IHRoaXMub3B0aW9ucy5oYXNNYXJrO1xuICAgIHRoaXMubWFya0ljb24gPSB0aGlzLm9wdGlvbnMubWFya0ljb247XG4gICAgdGhpcy5tYXJrRm9udCA9IHRoaXMub3B0aW9ucy5tYXJrRm9udDtcbiAgICB0aGlzLm1hcmtTdHlsZSA9IHRoaXMub3B0aW9ucy5tYXJrU3R5bGU7XG4gICAgdGhpcy5tYXJrVGV4dCA9IHRoaXMub3B0aW9ucy5tYXJrVGV4dDtcbiAgICB0aGlzLm1hcmtYID0gdGhpcy5vcHRpb25zLm1hcmtYO1xuICAgIHRoaXMubWFya1kgPSB0aGlzLm9wdGlvbnMubWFya1k7XG4gICAgdGhpcy5zb3VyY2VJbWdTcmMgPSB0aGlzLm9wdGlvbnMuc291cmNlSW1nU3JjO1xuXG4gICAgdGhpcy5vblZhbGlkYXRlRmlsZSA9IHRoaXMub3B0aW9ucy5vblZhbGlkYXRlRmlsZTtcbiAgICB0aGlzLm9uQ3JvcHBlZCA9IHRoaXMub3B0aW9ucy5vbkNyb3BwZWQ7XG5cblxuICAgIC8vIOWFqOWxgOWPmOmHj1xuICAgIHRoaXMucm90YXRlQ291bnQgPSAwO1xuXG5cbiAgICB0aGlzLmluaXQoKTtcblxuICB9XG5cbiAgZ2V0Um90YXRlTnVtKGRpcmVjdGlvbikge1xuICAgIGxldCByb3RhdGVOdW0gPSAwO1xuICAgIHRoaXMucm90YXRlQ291bnQgKz0gZGlyZWN0aW9uO1xuICAgIGlmICh0aGlzLnJvdGF0ZUNvdW50ID4gMyB8fCB0aGlzLnJvdGF0ZUNvdW50IDwgLTMpIHtcbiAgICAgIHRoaXMucm90YXRlQ291bnQgPSAwO1xuICAgIH1cbiAgICBpZiAodGhpcy5yb3RhdGVDb3VudCA8IDApIHtcbiAgICAgIHJvdGF0ZU51bSA9IDQgKyB0aGlzLnJvdGF0ZUNvdW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByb3RhdGVOdW0gPSB0aGlzLnJvdGF0ZUNvdW50O1xuICAgIH1cbiAgICByZXR1cm4gcm90YXRlTnVtO1xuICB9XG5cbiAgLy8gaW1n5ZCMZHJhd0ltYWdl56ys5LiA5Liq5Y+C5pWwO3JvdGF0ZU51bTogMCwxLDIsM++8jOWIhuWIq+WvueW6lOaXi+i9rOeahOWbm+S4quinkuW6puaWueWQkTtpbWdUeXBlOiDkv53lrZjlm77niYfnsbvlnovvvJtjYuWbnuiwg+WHveaVsO+8jOS8oOWPgmRlc3RJbWdEYXRhLHcsaO+8m1xuICByb3RhdGUoc3JjLCByb3RhdGVOdW0sIGltZ1R5cGUsIGNiKSB7XG4gICAgbG9hZEltYWdlKHNyYywgKGltZykgPT4ge1xuICAgICAgbGV0IHJvdGF0ZURlZyA9IHJvdGF0ZU51bSAqIDkwO1xuICAgICAgbGV0IHNvdXJjZVcwID0gaW1nLm5hdHVyYWxXaWR0aDtcbiAgICAgIGxldCBzb3VyY2VIMCA9IGltZy5uYXR1cmFsSGVpZ2h0O1xuXG4gICAgICBsZXQgbWF4ID0gTWF0aC5tYXgoc291cmNlVzAsIHNvdXJjZUgwKTtcbiAgICAgIGxldCB0ZW1wQ3ZzID0gZ2V0Q2FudmFzKG1heCwgbWF4KSxcbiAgICAgICAgdGVtcEN0eCA9IHRlbXBDdnMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgdGVtcEN0eC50cmFuc2xhdGUobWF4IC8gMiwgbWF4IC8gMik7XG4gICAgICB0ZW1wQ3R4LnJvdGF0ZShyb3RhdGVEZWcgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgIHRlbXBDdHgudHJhbnNsYXRlKC1tYXggLyAyLCAtbWF4IC8gMik7XG4gICAgICB0ZW1wQ3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuXG5cbiAgICAgIGxldCB3ID0gc291cmNlVzAsXG4gICAgICAgIGggPSBzb3VyY2VIMCxcbiAgICAgICAgc3ggPSAwLFxuICAgICAgICBzeSA9IDA7XG4gICAgICBpZiAocm90YXRlTnVtID09PSAxKSB7XG4gICAgICAgIHcgPSBzb3VyY2VIMDtcbiAgICAgICAgaCA9IHNvdXJjZVcwO1xuICAgICAgICBzeCA9IG1heCAtIHc7XG4gICAgICAgIHN5ID0gMDtcblxuICAgICAgfSBlbHNlIGlmIChyb3RhdGVOdW0gPT09IDIpIHtcbiAgICAgICAgdyA9IHNvdXJjZVcwO1xuICAgICAgICBoID0gc291cmNlSDA7XG4gICAgICAgIHN4ID0gbWF4IC0gdztcbiAgICAgICAgc3kgPSBtYXggLSBoO1xuICAgICAgfSBlbHNlIGlmIChyb3RhdGVOdW0gPT09IDMpIHtcbiAgICAgICAgdyA9IHNvdXJjZUgwO1xuICAgICAgICBoID0gc291cmNlVzA7XG4gICAgICAgIHN4ID0gMDtcbiAgICAgICAgc3kgPSBtYXggLSBoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdyA9IHNvdXJjZVcwO1xuICAgICAgICBoID0gc291cmNlSDA7XG4gICAgICAgIHN4ID0gMDtcbiAgICAgICAgc3kgPSAwO1xuICAgICAgfVxuXG4gICAgICBsZXQgY3ZzID0gZ2V0Q2FudmFzKHcsIGgpLFxuICAgICAgICBjdHggPSBjdnMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgY3R4LmRyYXdJbWFnZSh0ZW1wQ3ZzLCBzeCwgc3ksIHcsIGgsIDAsIDAsIHcsIGgpO1xuXG4gICAgICBsZXQgZGF0YSA9IGN2cy50b0RhdGFVUkwoaW1nVHlwZSk7XG4gICAgICB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgJiYgY2IoZGF0YSwgdywgaCk7XG5cbiAgICAgIC8vIHByZXZpZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoY3ZzKTtcbiAgICB9KVxuXG4gIH1cbiAgYWRkTWFyayh0YXJnZXRJbWcsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRhcmdldEltZy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnY2FudmFzJykge1xuICAgICAgdGFyZ2V0SW1nID0gZ2V0Q2FudmFzKHRhcmdldEltZy53aWR0aCwgdGFyZ2V0SW1nLmhlaWdodCk7XG4gICAgfVxuICAgIGxldCBkQ29udGV4dCA9IHRhcmdldEltZy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICh0aGlzLmhhc01hcmspIHtcbiAgICAgIGlmICh0aGlzLm1hcmtJY29uKSB7XG4gICAgICAgIGxvYWRJbWFnZSh0aGlzLm1hcmtJY29uLCAoaW1nKSA9PiB7XG4gICAgICAgICAgaWYgKCF0aGlzLm1hcmtYKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtYID0gdGFyZ2V0SW1nLndpZHRoIC0gaW1nLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF0aGlzLm1hcmtZKSB7XG4gICAgICAgICAgICB0aGlzLm1hcmtZID0gdGFyZ2V0SW1nLmhlaWdodCAtIGltZy5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBkQ29udGV4dC5kcmF3SW1hZ2UoaW1nLCB0aGlzLm1hcmtYLCB0aGlzLm1hcmtZKTtcbiAgICAgICAgICBjYih0YXJnZXRJbWcpO1xuICAgICAgICB9KVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkQ29udGV4dC50ZXh0QWxpZ24gPSBcImVuZFwiO1xuICAgICAgICBkQ29udGV4dC5mb250ID0gdGhpcy5tYXJrRm9udDtcbiAgICAgICAgZENvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5tYXJrU3R5bGU7XG4gICAgICAgIGlmICghdGhpcy5tYXJrWCkge1xuICAgICAgICAgIHRoaXMubWFya1ggPSB0YXJnZXRJbWcud2lkdGggLSAxMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubWFya1kpIHtcbiAgICAgICAgICB0aGlzLm1hcmtZID0gdGFyZ2V0SW1nLmhlaWdodCAtIDEwO1xuICAgICAgICB9XG4gICAgICAgIGRDb250ZXh0LmZpbGxUZXh0KHRoaXMubWFya1RleHQsIHRoaXMubWFya1gsIHRoaXMubWFya1kpO1xuICAgICAgICBjYih0YXJnZXRJbWcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYih0YXJnZXRJbWcpO1xuICAgIH1cblxuICB9XG4gIHByZXZpZXcoZGF0YSkge1xuICAgIC8vIOijgeWJquWQjumihOiniFxuICAgIHRoaXMuJHByZXZpZXdDb250YWluZXIgJiYgKHRoaXMuJHByZXZpZXdDb250YWluZXIuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiJHtkYXRhfVwiPmApO1xuICB9XG4gIGRvd25sb2FkKGRhdGEpIHtcbiAgICAvLyDmj5DkvpvkuIvovb3vvIxTYWZhcmnkuI3mlK/mjIFcbiAgICBsZXQgaXNTdXBwb3J0RG93bmxvYWQgPSAnZG93bmxvYWQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBpZiAoaXNTdXBwb3J0RG93bmxvYWQgJiYgdGhpcy4kZG93bmxvYWRCdG4pIHtcbiAgICAgIHRoaXMuJGRvd25sb2FkQnRuLmRvd25sb2FkID0gbmV3IERhdGUoKS52YWx1ZU9mKCkgKyAnX2Rlc3QuJyArIHRoaXMubWltZS5zdWJzdHIodGhpcy5taW1lLmluZGV4T2YoJ2ltYWdlLycpICsgNik7XG4gICAgICB0aGlzLiRkb3dubG9hZEJ0bi5ocmVmID0gZGF0YTtcbiAgICB9XG4gIH1cbiAgLy8g6KOB5YmqXG4gIGNyb3AoaW1nLCBzeCwgc3ksIHNXaWR0aCwgc0hlaWdodCwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIGlmICghaW1nKSByZXR1cm47XG5cbiAgICBsZXQgZGVzdENhbnZhcyA9IGdldENhbnZhcyh3aWR0aCwgaGVpZ2h0KSxcbiAgICAgIGRDb250ZXh0ID0gZGVzdENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGRDb250ZXh0LmRyYXdJbWFnZShpbWcsIHN4LCBzeSwgc1dpZHRoLCBzSGVpZ2h0LCB4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIHRoaXMuYWRkTWFyayhkZXN0Q2FudmFzLCAocmVzdWx0Q3ZzKSA9PiB7XG5cbiAgICAgIGxldCBkYXRhID0gcmVzdWx0Q3ZzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycpO1xuICAgICAgbGV0IHNpemUwID0gZ2V0QmFzZTY0U2l6ZShkYXRhKTtcbiAgICAgIGlmIChzaXplMCA+IDEwMjQgKiB0aGlzLm1heFNpemUpIHtcbiAgICAgICAgbGV0IHF1YWxpdHkgPSBNYXRoLmZsb29yKDEwMjQgKiB0aGlzLm1heFNpemUgLyBzaXplMCAqIDEwKSAvIDEwO1xuICAgICAgICAvLyBkYXRhID0gcmVzdWx0Q3ZzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIHF1YWxpdHkpO1xuICAgICAgICBkYXRhID0gY29tcHJlc3MocmVzdWx0Q3ZzLCBxdWFsaXR5KTtcbiAgICAgIH1cblxuICAgICAgbGV0IGJsb2IgPSBiYXNlNjREYXRhMkJsb2IoZGF0YSwgdGhpcy5taW1lKTtcbiAgICAgIGNvbnNvbGUubG9nKCdlbmQgY29tcHJlc3M6ICcgKyBNYXRoLmNlaWwoYmxvYi5zaXplIC8gMTAyNCkpO1xuICAgICAgbGV0IGZvcm1EYXRhID0gYmxvYjJGb3JtRGF0YShibG9iKTtcbiAgICAgIGNvbnNvbGUubG9nKCdmb3JtRGF0YTogJyArIGZvcm1EYXRhKTtcblxuICAgICAgLy8g5o+Q5L6b6aKE6KeIXG4gICAgICB0aGlzLnByZXZpZXcoZGF0YSk7XG4gICAgICAvLyDmj5DkvpvkuIvovb1cbiAgICAgIHRoaXMuZG93bmxvYWQoZGF0YSk7XG5cbiAgICAgIC8vIFRPRE8g55u05o6l5oqKYmFzZTY05qC85byP5Zu+54mH5pWw5o2u5Lyg5Yiw5ZCO5Y+wXG4gICAgICAvLyBUT0RPIOS9nOS4uuaWh+S7tuW9ouW8j+eUqEZvcm1EYXRh5o+Q5Lqk5Yiw5ZCO5Y+wIFxuICAgICAgdHlwZW9mIHRoaXMub25Dcm9wcGVkID09PSAnZnVuY3Rpb24nICYmIHRoaXMub25Dcm9wcGVkKGRhdGEpO1xuICAgIH0pO1xuXG4gIH1cblxuXG4gIGluaXQoKSB7XG4gICAgbGV0IHNvdXJjZUltZ0VsZSwgc291cmNlVzAsIHNvdXJjZUgwLCBzb3VyY2VXMSwgc291cmNlSDEsIGNhY2hlU291cmNlLFxuICAgICAgYm9yZGVyV2lkdGggPSAodGhpcy5jb250YWluZXJTaXplIC0gdGhpcy5jcm9wVykgLyAyLFxuICAgICAgYm9yZGVySGVpZ2h0ID0gKHRoaXMuY29udGFpbmVyU2l6ZSAtIHRoaXMuY3JvcEgpIC8gMjtcblxuICAgIGxldCB3b3JraW5nQXJlYUh0bWwgPSAnPGRpdiBjbGFzcz1cIndvcmtpbmctYXJlYVwiPjxpbWc+PGRpdiBjbGFzcz1cIm1hc2tcIj48L2Rpdj48L2Rpdj4nO1xuICAgIHRoaXMuJHdvcmtpbmdDb250YWluZXIuaW5uZXJIVE1MID0gd29ya2luZ0FyZWFIdG1sO1xuXG4gICAgbGV0IHdvcmtpbmdBcmVhRWxlID0gdGhpcy4kd29ya2luZ0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcud29ya2luZy1hcmVhJyk7XG4gICAgd29ya2luZ0FyZWFFbGUuc3R5bGUuY3NzVGV4dCA9IGBwb3NpdGlvbjogcmVsYXRpdmU7b3ZlcmZsb3c6IGhpZGRlbjt3aWR0aDogJHt0aGlzLmNvbnRhaW5lclNpemV9cHg7aGVpZ2h0OiAke3RoaXMuY29udGFpbmVyU2l6ZX1weDtgO1xuXG5cbiAgICBzb3VyY2VJbWdFbGUgPSB0aGlzLiR3b3JraW5nQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgIHNvdXJjZUltZ0VsZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cbiAgICBsZXQgbWFza0VsZSA9IHRoaXMuJHdvcmtpbmdDb250YWluZXIucXVlcnlTZWxlY3RvcignLm1hc2snKTtcbiAgICBtYXNrRWxlLnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGFic29sdXRlO3dpZHRoOiAke3RoaXMuY3JvcFd9cHg7aGVpZ2h0OiAke3RoaXMuY3JvcEh9cHg7Ym9yZGVyLWxlZnQ6ICR7Ym9yZGVyV2lkdGh9cHggc29saWQgJHt0aGlzLm1hc2tDb2xvcn07Ym9yZGVyLXJpZ2h0OiAke2JvcmRlcldpZHRofXB4IHNvbGlkICR7dGhpcy5tYXNrQ29sb3J9O2JvcmRlci10b3A6ICR7Ym9yZGVySGVpZ2h0fXB4IHNvbGlkICR7dGhpcy5tYXNrQ29sb3J9O2JvcmRlci1ib3R0b206ICR7Ym9yZGVySGVpZ2h0fXB4IHNvbGlkICR7dGhpcy5tYXNrQ29sb3J9O2A7XG5cblxuXG4gICAgZHJhZyhzb3VyY2VJbWdFbGUsIHRoaXMuJHdvcmtpbmdDb250YWluZXIpO1xuXG4gICAgLy8g6YCJ5oup55qE5rqQ5Zu+54mH5Yqg6L295a6M5Yid5aeL5YyW55u45YWz5Y+C5pWwXG4gICAgbGV0IGxvYWRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgc291cmNlVzAgPSBzb3VyY2VJbWdFbGUubmF0dXJhbFdpZHRoO1xuICAgICAgc291cmNlSDAgPSBzb3VyY2VJbWdFbGUubmF0dXJhbEhlaWdodDtcbiAgICAgIGxldCBzb3VyY2VSYXRpbyA9IHNvdXJjZVcwIC8gc291cmNlSDA7XG5cbiAgICAgIGxldCB0b3AgPSAwLFxuICAgICAgICBsZWZ0ID0gMDtcblxuICAgICAgaWYgKHNvdXJjZVJhdGlvID4gMSkgeyAvL+WuveWkp+S6jumrmFxuXG4gICAgICAgIHNvdXJjZVcxID0gdGhpcy5jb250YWluZXJTaXplO1xuICAgICAgICBzb3VyY2VIMSA9IHNvdXJjZVcxIC8gc291cmNlUmF0aW87XG5cbiAgICAgICAgdG9wID0gKHRoaXMuY29udGFpbmVyU2l6ZSAtIHNvdXJjZUgxKSAvIDI7XG4gICAgICAgIGxlZnQgPSAwO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBzb3VyY2VIMSA9IHRoaXMuY29udGFpbmVyU2l6ZTtcbiAgICAgICAgc291cmNlVzEgPSBzb3VyY2VIMSAqIHNvdXJjZVJhdGlvO1xuXG4gICAgICAgIGxlZnQgPSAodGhpcy5jb250YWluZXJTaXplIC0gc291cmNlVzEpIC8gMjtcbiAgICAgICAgdG9wID0gMDtcbiAgICAgIH1cblxuICAgICAgc291cmNlSW1nRWxlLnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGFic29sdXRlO3dpZHRoOiAke3NvdXJjZVcxfXB4O2hlaWdodDogJHtzb3VyY2VIMX1weDt0b3A6ICR7dG9wfXB4O2xlZnQ6ICR7bGVmdH1weDtgO1xuXG4gICAgfVxuXG4gICAgc291cmNlSW1nRWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsb2FkSGFuZGxlciwgZmFsc2UpO1xuXG5cbiAgICBpZiAodGhpcy5zb3VyY2VJbWdTcmMpIHtcbiAgICAgIHNvdXJjZUltZ0VsZS5zcmMgPSB0aGlzLnNvdXJjZUltZ1NyYztcbiAgICAgIHNvdXJjZUltZ0VsZS5zdHlsZS53aWR0aCA9ICdhdXRvJztcbiAgICAgIHNvdXJjZUltZ0VsZS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG5cbiAgICAgIGNhY2hlU291cmNlID0gdGhpcy5zb3VyY2VJbWdTcmM7XG4gICAgfVxuICAgIC8vIOaMiemSruS6i+S7tue7keWumlxuICAgIHRoaXMuJHNlbGVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjaG9vc2VGaWxlKHRoaXMuJHNlbGVjdEJ0biwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgc291cmNlSW1nRWxlLnNyYyA9IGRhdGE7XG4gICAgICAgIHNvdXJjZUltZ0VsZS5zdHlsZS53aWR0aCA9ICdhdXRvJztcbiAgICAgICAgc291cmNlSW1nRWxlLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcblxuICAgICAgICBjYWNoZVNvdXJjZSA9IGRhdGE7XG5cbiAgICAgIH0sIHRoaXMub25WYWxpZGF0ZUZpbGUpO1xuXG4gICAgfSwgZmFsc2UpO1xuXG5cbiAgICAvLyDmlL7lpKfvvIznvKnlsI/vvIznuqblrpp1cOWAvOS4ujHmiJbogIUtMe+8jOihqOekuuaUvuWkp++8jOe8qeWwj1xuICAgIGxldCBzY2FsZUltZyA9IChzY2FsZVVwKSA9PiB7XG4gICAgICBsZXQgc291cmNlUmF0aW8gPSBzb3VyY2VXMCAvIHNvdXJjZUgwO1xuICAgICAgc291cmNlSDEgKz0gdGhpcy5zY2FsZVN0ZXAgKiBzY2FsZVVwO1xuICAgICAgc291cmNlVzEgPSBzb3VyY2VIMSAqIHNvdXJjZVJhdGlvO1xuXG4gICAgICBzb3VyY2VJbWdFbGUuc3R5bGUud2lkdGggPSBzb3VyY2VXMSArICdweCc7XG4gICAgICBzb3VyY2VJbWdFbGUuc3R5bGUuaGVpZ2h0ID0gc291cmNlSDEgKyAncHgnO1xuICAgIH07XG5cbiAgICB0aGlzLiRkb3duQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgc2NhbGVJbWcoLTEpO1xuICAgIH0sIGZhbHNlKVxuICAgIHRoaXMuJHVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgc2NhbGVJbWcoMSk7XG4gICAgfSwgZmFsc2UpXG5cblxuICAgIHRoaXMuJGNyb3BCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICAgIC8vIOe7mOWItuimgeeUqOWbvueJh+eahOiHqueEtuWwuuWvuFxuICAgICAgbGV0IHNjYWxlUmF0aW8gPSBzb3VyY2VIMCAvIHNvdXJjZUgxO1xuICAgICAgbGV0IHN5ID0gKGJvcmRlckhlaWdodCAtIHNvdXJjZUltZ0VsZS5vZmZzZXRUb3ApICogc2NhbGVSYXRpbyxcbiAgICAgICAgc3ggPSAoYm9yZGVyV2lkdGggLSBzb3VyY2VJbWdFbGUub2Zmc2V0TGVmdCkgKiBzY2FsZVJhdGlvLFxuICAgICAgICBzV2lkdGggPSB0aGlzLmNyb3BXICogc2NhbGVSYXRpbyxcbiAgICAgICAgc0hlaWdodCA9IHRoaXMuY3JvcEggKiBzY2FsZVJhdGlvO1xuXG4gICAgICB0aGlzLmNyb3Aoc291cmNlSW1nRWxlLCBzeCwgc3ksIHNXaWR0aCwgc0hlaWdodCwgMCwgMCwgc1dpZHRoLCBzSGVpZ2h0KTtcblxuXG4gICAgfSwgZmFsc2UpO1xuXG5cblxuICAgIHRoaXMuJGNsb2Nrd2lzZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGxldCByb3RhdGVOdW0gPSB0aGlzLmdldFJvdGF0ZU51bSgxKTtcbiAgICAgIC8vIHNvdXJjZUltZ0VsZS5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlKCR7cm90YXRlTnVtICogOTB9ZGVnKWA7XG4gICAgICB0aGlzLnJvdGF0ZShjYWNoZVNvdXJjZSwgcm90YXRlTnVtLCB0aGlzLm1pbWUsIChkYXRhLCB3LCBoKSA9PiB7XG4gICAgICAgIHNvdXJjZUltZ0VsZS5zcmMgPSBkYXRhO1xuICAgICAgfSlcbiAgICB9LCBmYWxzZSk7XG4gICAgdGhpcy4kYW50aWNsb2Nrd2lzZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGxldCByb3RhdGVOdW0gPSB0aGlzLmdldFJvdGF0ZU51bSgtMSk7XG4gICAgICAvLyBzb3VyY2VJbWdFbGUuc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSgke3JvdGF0ZU51bSAqIDkwfWRlZylgO1xuICAgICAgdGhpcy5yb3RhdGUoY2FjaGVTb3VyY2UsIHJvdGF0ZU51bSwgdGhpcy5taW1lLCAoZGF0YSwgdywgaCkgPT4ge1xuICAgICAgICBzb3VyY2VJbWdFbGUuc3JjID0gZGF0YTtcbiAgICAgIH0pXG4gICAgfSwgZmFsc2UpO1xuXG4gIH1cblxufVxuXG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7IFxuICBtb2R1bGUuZXhwb3J0cyA9IFBpcGVJbWc7IFxufSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgeyBcbiAgZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIFBpcGVJbWc7fSk7IFxufSBlbHNlIHsgXG4gIHdpbmRvdy5QaXBlSW1nID0gUGlwZUltZztcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/pipeImg.0.4.1.js\n");

/***/ }),

/***/ "./src/js/util.js":
/*!************************!*\
  !*** ./src/js/util.js ***!
  \************************/
/*! exports provided: drag, loadImage, loadImages, getCanvas, getBase64Size, compress, base64Data2Blob, blob2FormData, chooseFile, uploadFile, getImgPromise, _$ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"drag\", function() { return drag; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadImage\", function() { return loadImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadImages\", function() { return loadImages; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCanvas\", function() { return getCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBase64Size\", function() { return getBase64Size; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compress\", function() { return compress; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"base64Data2Blob\", function() { return base64Data2Blob; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"blob2FormData\", function() { return blob2FormData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chooseFile\", function() { return chooseFile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uploadFile\", function() { return uploadFile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getImgPromise\", function() { return getImgPromise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_$\", function() { return _$; });\n//拖拽\nfunction drag(moveElement, dragBar = document, container, cb) {\n    if (!moveElement) return;\n\n    var draging = false,\n        x0, y0, mLeft0, mTop0, mLeft1, mTop1;\n\n    var mousedownHandler = (e) => {\n        e = e || window.event;\n        x0 = e.clientX;\n        y0 = e.clientY;\n        mLeft0 = moveElement.offsetLeft;\n        mTop0 = moveElement.offsetTop;\n\n        draging = true;\n\n    };\n    var mousemoveHandler = (e) => {\n        e = e || window.event;\n        if (draging) {\n            var x1 = e.clientX,\n                y1 = e.clientY;\n            mLeft1 = x1 - x0 + mLeft0;\n            mTop1 = y1 - y0 + mTop0;\n\n\n            if (container) {\n                // 计算可移动位置的大小， 保证元素不会超过可移动范围\n                // 此处就是父元素的宽度减去子元素宽度\n                var width = container.clientWidth - moveElement.offsetWidth;\n                var height = container.clientHeight - moveElement.offsetHeight;\n                // min方法保证不会超过右边界，max保证不会超过左边界\n                mLeft1 = Math.min(Math.max(0, mLeft1), width);\n                mTop1 = Math.min(Math.max(0, mTop1), height);\n            }\n\n\n            moveElement.style.left = mLeft1;\n            moveElement.style.top = mTop1;\n\n            typeof cb === 'function' && cb(mLeft1, mTop1);\n        }\n    };\n    var mouseupHandler = (e) => {\n        draging = false;\n    }\n\n    if (window.addEventListener) {\n        dragBar.addEventListener('mousedown', mousedownHandler, false);\n        document.addEventListener('mousemove', mousemoveHandler, false);\n        document.addEventListener('mouseup', mouseupHandler, false);\n    }\n}\n\nfunction getImgPromise(src) {\n    return new Promise((resolve, reject) => {\n        let image = new Image();\n        // 跨域报错处理（Failed to execute 'toDataURL' on 'HTMLCanvasElement': Tainted canvases may not be exported.）\n        image.setAttribute('crossorigin', 'anonymous');\n        image.src = src;\n        image.onload = () => {\n            resolve(image);\n        };\n        image.onerror = () => {\n            reject('Error: image error!');\n        };\n    });\n}\n// 加载图片\nfunction loadImage(src, success, failure) {\n    var image = new Image();\n    // 跨域报错处理（Failed to execute 'toDataURL' on 'HTMLCanvasElement': Tainted canvases may not be exported.）\n    image.setAttribute('crossorigin', 'anonymous');\n    image.src = src;\n    image.onload = function () {\n        typeof success === 'function' && success(image);\n    };\n    image.onerror = function () {\n        typeof failure === 'function' && failure();\n    };\n}\n\nfunction loadImages(srcList, success, failure) {\n    var images = [];\n    var index = srcList.length;\n    var _loadImage = () => {\n        if (index === 0) {\n            return false;\n        }\n        var image = new Image();\n        // 跨域报错处理（Failed to execute 'toDataURL' on 'HTMLCanvasElement': Tainted canvases may not be exported.）\n        image.setAttribute('crossorigin', 'anonymous');\n        image.src = srcList[--index];\n        image.onload = function () {\n            images.unshift(image);\n            if (images.length === srcList.length) {\n                typeof success === 'function' && success(images);\n                return false;\n            }\n            _loadImage();\n        };\n        image.onerror = function () {\n            typeof failure === 'function' && failure();\n        };\n    };\n    _loadImage();\n\n}\n// 创建cavas\nfunction getCanvas(width, height) {\n    let canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n}\n\n//获取base64图片大小\nfunction getBase64Size(base64Data) {\n    // 'data:image/jpeg;base64,xxxxxx...xxx='\n    var str = base64Data.replace(/^data:image\\/[\\w]*;base64,$/, '');\n    var equalIndex = str.indexOf('=');\n    if (equalIndex > 0) {\n        str = str.substring(0, equalIndex);\n    }\n    var strLength = str.length;\n    return parseInt(strLength - (strLength / 8) * 2);\n}\n// 压缩只支持image/jpeg和image/webp\nfunction compress(img, quality = 1, width, height, mime = 'images/jpeg') { //  Image 对象，或者是 Canvas 元素\n    var canvas = getCanvas(width, height),\n        ctx = canvas.getContext(\"2d\");\n    if (width && height) {\n        ctx.drawImage(img, 0, 0, width, height);\n    } else {\n        ctx.drawImage(img, 0, 0);\n    }\n\n    var base64 = canvas.toDataURL(mime);\n    if (quality < 1) {\n        base64 = canvas.toDataURL(mime, quality);\n    }\n\n    return base64; // 压缩后的base64串\n}\n\n\nfunction base64Data2Blob(base64Data, mime) {\n    var binStr = atob(base64Data.split(',')[1]),\n        len = binStr.length,\n        arr = new Uint8Array(len);\n    if (!mime) {\n        // mime = base64Data.split(',')[0].split(':')[1].split(';')[0];\n        mime = base64Data.substring(base64Data.indexOf('data:') + 5, base64Data.indexOf(';base64'));\n    }\n\n    for (var i = 0; i < len; i++) {\n        arr[i] = binStr.charCodeAt(i);\n    }\n\n    return new Blob([arr], {\n        type: mime\n    });\n\n}\n\nfunction blob2FormData(blob, fileName) {\n    var formData = new FormData();\n    formData.append('file', blob);\n    if (!fileName) {\n        fileName = new Date().getTime();\n    }\n    formData.append(\"fileName\", fileName);\n\n    return formData;\n}\n\n// canvas转成blob对象，type值为image/jpeg或者image/webp时，可使用encoderOptions（0-1）设置图片展示质量。\nfunction canvas2Blob(canvas, callback, type, quality) {\n    // Polyfill\n    if (!HTMLCanvasElement.prototype.toBlob) {\n        Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\n            value: function (callback, type, quality) {\n\n                var binStr = atob(this.toDataURL('image/jpeg', quality).split(',')[1]),\n                    len = binStr.length,\n                    arr = new Uint8Array(len);\n\n                for (var i = 0; i < len; i++) {\n                    arr[i] = binStr.charCodeAt(i);\n                }\n\n                callback(new Blob([arr], {\n                    type: type || 'image/png'\n                }));\n            }\n        });\n    }\n\n    canvas.toBlob(callback, type, quality);\n}\n\nfunction uploadFile(formData, url) {\n\n    var xmlHttp = new XMLHttpRequest();\n    xmlHttp.open('POST', url); //注意跨域问题\n    xmlHttp.send(formData);\n    xmlHttp.onreadystatechange = function () {\n        if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {\n            console.log(xmlHttp.responseText);\n        } else {\n            console.log(xmlHttp.statusText);\n        }\n    };\n}\n// 选择文件\nfunction chooseFile(btn, cb, validFileCallback) {\n    let $btn = typeof btn === \"string\" ? document.querySelector(btn) : btn;\n    let $file = $btn.querySelector('input[type=file]');\n    if (!$file) {\n        let fileNode = document.createElement('input');\n        fileNode.setAttribute('type', 'file');\n\n        fileNode.style.cssText = 'display: none;';\n        $btn.appendChild(fileNode);\n        $file = $btn.querySelector('input[type=file]');\n    }\n\n    $file.addEventListener('change', function (e) {\n        if (this.files.length > 0) {\n\n            let oFile = this.files[0];\n\n            let validFile = true;\n            if (typeof validFileCallback === 'function' && validFileCallback(oFile) === false) {\n                validFile = false;\n            }\n\n            if (validFile) {\n                let reader = new FileReader();\n                reader.readAsDataURL(oFile);\n\n                reader.onload = function () {\n                    typeof cb === 'function' && cb(this.result);\n                }\n            } else {\n                console.log('onValidateFile function return false')\n            }\n\n        }\n    }, false);\n\n    // 阻止冒泡导致两次触发selectBtn\n    $file.addEventListener('click', (e) => {\n        e.stopPropagation();\n    })\n\n    $file.click();\n\n}\nfunction _$(ele) {\n    return typeof ele === 'string' ? document.querySelector(ele) : ele;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC5qcz9mNjQ0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0I7QUFDbEI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakUsMEZBQTBGO0FBQzFGOztBQUVBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLCtCQUErQixTQUFTO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFlQyIsImZpbGUiOiIuL3NyYy9qcy91dGlsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy/mi5bmi71cbmZ1bmN0aW9uIGRyYWcobW92ZUVsZW1lbnQsIGRyYWdCYXIgPSBkb2N1bWVudCwgY29udGFpbmVyLCBjYikge1xuICAgIGlmICghbW92ZUVsZW1lbnQpIHJldHVybjtcblxuICAgIHZhciBkcmFnaW5nID0gZmFsc2UsXG4gICAgICAgIHgwLCB5MCwgbUxlZnQwLCBtVG9wMCwgbUxlZnQxLCBtVG9wMTtcblxuICAgIHZhciBtb3VzZWRvd25IYW5kbGVyID0gKGUpID0+IHtcbiAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICB4MCA9IGUuY2xpZW50WDtcbiAgICAgICAgeTAgPSBlLmNsaWVudFk7XG4gICAgICAgIG1MZWZ0MCA9IG1vdmVFbGVtZW50Lm9mZnNldExlZnQ7XG4gICAgICAgIG1Ub3AwID0gbW92ZUVsZW1lbnQub2Zmc2V0VG9wO1xuXG4gICAgICAgIGRyYWdpbmcgPSB0cnVlO1xuXG4gICAgfTtcbiAgICB2YXIgbW91c2Vtb3ZlSGFuZGxlciA9IChlKSA9PiB7XG4gICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgaWYgKGRyYWdpbmcpIHtcbiAgICAgICAgICAgIHZhciB4MSA9IGUuY2xpZW50WCxcbiAgICAgICAgICAgICAgICB5MSA9IGUuY2xpZW50WTtcbiAgICAgICAgICAgIG1MZWZ0MSA9IHgxIC0geDAgKyBtTGVmdDA7XG4gICAgICAgICAgICBtVG9wMSA9IHkxIC0geTAgKyBtVG9wMDtcblxuXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgLy8g6K6h566X5Y+v56e75Yqo5L2N572u55qE5aSn5bCP77yMIOS/neivgeWFg+e0oOS4jeS8mui2hei/h+WPr+enu+WKqOiMg+WbtFxuICAgICAgICAgICAgICAgIC8vIOatpOWkhOWwseaYr+eItuWFg+e0oOeahOWuveW6puWHj+WOu+WtkOWFg+e0oOWuveW6plxuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aCAtIG1vdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0IC0gbW92ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIC8vIG1pbuaWueazleS/neivgeS4jeS8mui2hei/h+WPs+i+ueeVjO+8jG1heOS/neivgeS4jeS8mui2hei/h+W3pui+ueeVjFxuICAgICAgICAgICAgICAgIG1MZWZ0MSA9IE1hdGgubWluKE1hdGgubWF4KDAsIG1MZWZ0MSksIHdpZHRoKTtcbiAgICAgICAgICAgICAgICBtVG9wMSA9IE1hdGgubWluKE1hdGgubWF4KDAsIG1Ub3AxKSwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBtb3ZlRWxlbWVudC5zdHlsZS5sZWZ0ID0gbUxlZnQxO1xuICAgICAgICAgICAgbW92ZUVsZW1lbnQuc3R5bGUudG9wID0gbVRvcDE7XG5cbiAgICAgICAgICAgIHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJyAmJiBjYihtTGVmdDEsIG1Ub3AxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG1vdXNldXBIYW5kbGVyID0gKGUpID0+IHtcbiAgICAgICAgZHJhZ2luZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBkcmFnQmFyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlZG93bkhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2Vtb3ZlSGFuZGxlciwgZmFsc2UpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgbW91c2V1cEhhbmRsZXIsIGZhbHNlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEltZ1Byb21pc2Uoc3JjKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIC8vIOi3qOWfn+aKpemUmeWkhOeQhu+8iEZhaWxlZCB0byBleGVjdXRlICd0b0RhdGFVUkwnIG9uICdIVE1MQ2FudmFzRWxlbWVudCc6IFRhaW50ZWQgY2FudmFzZXMgbWF5IG5vdCBiZSBleHBvcnRlZC7vvIlcbiAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdjcm9zc29yaWdpbicsICdhbm9ueW1vdXMnKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGltYWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1hZ2Uub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdCgnRXJyb3I6IGltYWdlIGVycm9yIScpO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuLy8g5Yqg6L295Zu+54mHXG5mdW5jdGlvbiBsb2FkSW1hZ2Uoc3JjLCBzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgLy8g6Leo5Z+f5oql6ZSZ5aSE55CG77yIRmFpbGVkIHRvIGV4ZWN1dGUgJ3RvRGF0YVVSTCcgb24gJ0hUTUxDYW52YXNFbGVtZW50JzogVGFpbnRlZCBjYW52YXNlcyBtYXkgbm90IGJlIGV4cG9ydGVkLu+8iVxuICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnY3Jvc3NvcmlnaW4nLCAnYW5vbnltb3VzJyk7XG4gICAgaW1hZ2Uuc3JjID0gc3JjO1xuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHlwZW9mIHN1Y2Nlc3MgPT09ICdmdW5jdGlvbicgJiYgc3VjY2VzcyhpbWFnZSk7XG4gICAgfTtcbiAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0eXBlb2YgZmFpbHVyZSA9PT0gJ2Z1bmN0aW9uJyAmJiBmYWlsdXJlKCk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gbG9hZEltYWdlcyhzcmNMaXN0LCBzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgdmFyIGltYWdlcyA9IFtdO1xuICAgIHZhciBpbmRleCA9IHNyY0xpc3QubGVuZ3RoO1xuICAgIHZhciBfbG9hZEltYWdlID0gKCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgLy8g6Leo5Z+f5oql6ZSZ5aSE55CG77yIRmFpbGVkIHRvIGV4ZWN1dGUgJ3RvRGF0YVVSTCcgb24gJ0hUTUxDYW52YXNFbGVtZW50JzogVGFpbnRlZCBjYW52YXNlcyBtYXkgbm90IGJlIGV4cG9ydGVkLu+8iVxuICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2Nyb3Nzb3JpZ2luJywgJ2Fub255bW91cycpO1xuICAgICAgICBpbWFnZS5zcmMgPSBzcmNMaXN0Wy0taW5kZXhdO1xuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbWFnZXMudW5zaGlmdChpbWFnZSk7XG4gICAgICAgICAgICBpZiAoaW1hZ2VzLmxlbmd0aCA9PT0gc3JjTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0eXBlb2Ygc3VjY2VzcyA9PT0gJ2Z1bmN0aW9uJyAmJiBzdWNjZXNzKGltYWdlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2xvYWRJbWFnZSgpO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHlwZW9mIGZhaWx1cmUgPT09ICdmdW5jdGlvbicgJiYgZmFpbHVyZSgpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgX2xvYWRJbWFnZSgpO1xuXG59XG4vLyDliJvlu7pjYXZhc1xuZnVuY3Rpb24gZ2V0Q2FudmFzKHdpZHRoLCBoZWlnaHQpIHtcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICByZXR1cm4gY2FudmFzO1xufVxuXG4vL+iOt+WPlmJhc2U2NOWbvueJh+Wkp+Wwj1xuZnVuY3Rpb24gZ2V0QmFzZTY0U2l6ZShiYXNlNjREYXRhKSB7XG4gICAgLy8gJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQseHh4eHh4Li4ueHh4PSdcbiAgICB2YXIgc3RyID0gYmFzZTY0RGF0YS5yZXBsYWNlKC9eZGF0YTppbWFnZVxcL1tcXHddKjtiYXNlNjQsJC8sICcnKTtcbiAgICB2YXIgZXF1YWxJbmRleCA9IHN0ci5pbmRleE9mKCc9Jyk7XG4gICAgaWYgKGVxdWFsSW5kZXggPiAwKSB7XG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgZXF1YWxJbmRleCk7XG4gICAgfVxuICAgIHZhciBzdHJMZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgIHJldHVybiBwYXJzZUludChzdHJMZW5ndGggLSAoc3RyTGVuZ3RoIC8gOCkgKiAyKTtcbn1cbi8vIOWOi+e8qeWPquaUr+aMgWltYWdlL2pwZWflkoxpbWFnZS93ZWJwXG5mdW5jdGlvbiBjb21wcmVzcyhpbWcsIHF1YWxpdHkgPSAxLCB3aWR0aCwgaGVpZ2h0LCBtaW1lID0gJ2ltYWdlcy9qcGVnJykgeyAvLyAgSW1hZ2Ug5a+56LGh77yM5oiW6ICF5pivIENhbnZhcyDlhYPntKBcbiAgICB2YXIgY2FudmFzID0gZ2V0Q2FudmFzKHdpZHRoLCBoZWlnaHQpLFxuICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGlmICh3aWR0aCAmJiBoZWlnaHQpIHtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICB9XG5cbiAgICB2YXIgYmFzZTY0ID0gY2FudmFzLnRvRGF0YVVSTChtaW1lKTtcbiAgICBpZiAocXVhbGl0eSA8IDEpIHtcbiAgICAgICAgYmFzZTY0ID0gY2FudmFzLnRvRGF0YVVSTChtaW1lLCBxdWFsaXR5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmFzZTY0OyAvLyDljovnvKnlkI7nmoRiYXNlNjTkuLJcbn1cblxuXG5mdW5jdGlvbiBiYXNlNjREYXRhMkJsb2IoYmFzZTY0RGF0YSwgbWltZSkge1xuICAgIHZhciBiaW5TdHIgPSBhdG9iKGJhc2U2NERhdGEuc3BsaXQoJywnKVsxXSksXG4gICAgICAgIGxlbiA9IGJpblN0ci5sZW5ndGgsXG4gICAgICAgIGFyciA9IG5ldyBVaW50OEFycmF5KGxlbik7XG4gICAgaWYgKCFtaW1lKSB7XG4gICAgICAgIC8vIG1pbWUgPSBiYXNlNjREYXRhLnNwbGl0KCcsJylbMF0uc3BsaXQoJzonKVsxXS5zcGxpdCgnOycpWzBdO1xuICAgICAgICBtaW1lID0gYmFzZTY0RGF0YS5zdWJzdHJpbmcoYmFzZTY0RGF0YS5pbmRleE9mKCdkYXRhOicpICsgNSwgYmFzZTY0RGF0YS5pbmRleE9mKCc7YmFzZTY0JykpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gYmluU3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBCbG9iKFthcnJdLCB7XG4gICAgICAgIHR5cGU6IG1pbWVcbiAgICB9KTtcblxufVxuXG5mdW5jdGlvbiBibG9iMkZvcm1EYXRhKGJsb2IsIGZpbGVOYW1lKSB7XG4gICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYmxvYik7XG4gICAgaWYgKCFmaWxlTmFtZSkge1xuICAgICAgICBmaWxlTmFtZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH1cbiAgICBmb3JtRGF0YS5hcHBlbmQoXCJmaWxlTmFtZVwiLCBmaWxlTmFtZSk7XG5cbiAgICByZXR1cm4gZm9ybURhdGE7XG59XG5cbi8vIGNhbnZhc+i9rOaIkGJsb2Llr7nosaHvvIx0eXBl5YC85Li6aW1hZ2UvanBlZ+aIluiAhWltYWdlL3dlYnDml7bvvIzlj6/kvb/nlKhlbmNvZGVyT3B0aW9uc++8iDAtMe+8ieiuvue9ruWbvueJh+Wxleekuui0qOmHj+OAglxuZnVuY3Rpb24gY2FudmFzMkJsb2IoY2FudmFzLCBjYWxsYmFjaywgdHlwZSwgcXVhbGl0eSkge1xuICAgIC8vIFBvbHlmaWxsXG4gICAgaWYgKCFIVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUudG9CbG9iKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUsICd0b0Jsb2InLCB7XG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgYmluU3RyID0gYXRvYih0aGlzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIHF1YWxpdHkpLnNwbGl0KCcsJylbMV0pLFxuICAgICAgICAgICAgICAgICAgICBsZW4gPSBiaW5TdHIubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBhcnIgPSBuZXcgVWludDhBcnJheShsZW4pO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhcnJbaV0gPSBiaW5TdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgQmxvYihbYXJyXSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlIHx8ICdpbWFnZS9wbmcnXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjYW52YXMudG9CbG9iKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KTtcbn1cblxuZnVuY3Rpb24gdXBsb2FkRmlsZShmb3JtRGF0YSwgdXJsKSB7XG5cbiAgICB2YXIgeG1sSHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhtbEh0dHAub3BlbignUE9TVCcsIHVybCk7IC8v5rOo5oSP6Leo5Z+f6Zeu6aKYXG4gICAgeG1sSHR0cC5zZW5kKGZvcm1EYXRhKTtcbiAgICB4bWxIdHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhtbEh0dHAucmVhZHlTdGF0ZSA9PSA0ICYmIHhtbEh0dHAuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coeG1sSHR0cC5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coeG1sSHR0cC5zdGF0dXNUZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vLyDpgInmi6nmlofku7ZcbmZ1bmN0aW9uIGNob29zZUZpbGUoYnRuLCBjYiwgdmFsaWRGaWxlQ2FsbGJhY2spIHtcbiAgICBsZXQgJGJ0biA9IHR5cGVvZiBidG4gPT09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ0bikgOiBidG47XG4gICAgbGV0ICRmaWxlID0gJGJ0bi5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPWZpbGVdJyk7XG4gICAgaWYgKCEkZmlsZSkge1xuICAgICAgICBsZXQgZmlsZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBmaWxlTm9kZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnZmlsZScpO1xuXG4gICAgICAgIGZpbGVOb2RlLnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogbm9uZTsnO1xuICAgICAgICAkYnRuLmFwcGVuZENoaWxkKGZpbGVOb2RlKTtcbiAgICAgICAgJGZpbGUgPSAkYnRuLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9ZmlsZV0nKTtcbiAgICB9XG5cbiAgICAkZmlsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodGhpcy5maWxlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIGxldCBvRmlsZSA9IHRoaXMuZmlsZXNbMF07XG5cbiAgICAgICAgICAgIGxldCB2YWxpZEZpbGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWxpZEZpbGVDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiB2YWxpZEZpbGVDYWxsYmFjayhvRmlsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRGaWxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWxpZEZpbGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChvRmlsZSk7XG5cbiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicgJiYgY2IodGhpcy5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29uVmFsaWRhdGVGaWxlIGZ1bmN0aW9uIHJldHVybiBmYWxzZScpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH0sIGZhbHNlKTtcblxuICAgIC8vIOmYu+atouWGkuazoeWvvOiHtOS4pOasoeinpuWPkXNlbGVjdEJ0blxuICAgICRmaWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KVxuXG4gICAgJGZpbGUuY2xpY2soKTtcblxufVxuZnVuY3Rpb24gXyQoZWxlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlbGUgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGUpIDogZWxlO1xufVxuXG5leHBvcnQge1xuICAgIGRyYWcsXG4gICAgbG9hZEltYWdlLFxuICAgIGxvYWRJbWFnZXMsXG4gICAgZ2V0Q2FudmFzLFxuICAgIGdldEJhc2U2NFNpemUsXG4gICAgY29tcHJlc3MsXG4gICAgYmFzZTY0RGF0YTJCbG9iLFxuICAgIGJsb2IyRm9ybURhdGEsXG4gICAgY2hvb3NlRmlsZSxcbiAgICB1cGxvYWRGaWxlLFxuICAgIGdldEltZ1Byb21pc2UsXG4gICAgXyRcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/util.js\n");

/***/ }),

/***/ 1:
/*!***************************************!*\
  !*** multi ./src/js/pipeImg.0.4.1.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! H:\workspace\03pipeImg\src\js\pipeImg.0.4.1.js */"./src/js/pipeImg.0.4.1.js");


/***/ })

/******/ });