<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>图片编辑</title>
    <link rel="stylesheet" href="/dist/css/common/common.css">
    <link rel="stylesheet" href="dist/js/pipeImg.css">
</head>

<body>
    <h1 style="text-align:center;padding: 10px;"><button class="J-btn-edit" style="font-size: 20px;">编辑</button></h1>
    
    <div id="J-preview-container"></div>

    <script src="/libs/jquery.js"></script>
    <script src="/libs/template.js"></script>
    <script src="/dist/js/pipeImg.js"></script>
    <script>       
            var source = [
                // {
                //     "id":"567701",
                //     "url":"http://image.made-in-china.com/9f7j00DtfvRZwjogcE/Test2222.jpg"
                // },
                {
                    "id":"567711",
                    "url":"./images/greensock.png"
                },
                {
                    "id":"567721",
                    "url":"./images/Lighthouse.jpg"
                },
                {
                    "id":"567721",
                    "url":"./images/5.jpg"
                },
                {
                    "id":"567721",
                    "url":"./images/1.jpg"
                },
                {
                    "id":"567721",
                    "url":"./images/2.jpg"
                },
                {
                    "id":"567721",
                    "url":"./images/5.jpg"
                },
                {
                    "id":"567721",
                    "url":"./images/1.jpg"
                },
                {
                    "id":"567721",
                    "url":"./images/2.jpg"
                }
            ];
            $('.J-btn-edit').on('click', function(){
                var pipeImg = new PipeImg({     
                    debug: true,     
                    source: source,
                    uploadUrl: '/pic.do?xcase=uploadWs',
                    sendDataType: 'blob',
                    type: '1',
                    markTextList: ['producttest.en.made-in-china.com', 'Focus Service Co - Product Sourcing'],
                    onComplete: function(data) {
                        // console.log('resultJson: ', JSON.stringify(data));
                        for (var i = 0; i < data.length; i++) {
                            var element = data[i];
                            $('#J-preview-container').append($('<img>').attr('src', element.url));
                        }
                        
                    }
                });
                pipeImg.show();
                // pipeImg.show({
                //     "selected": 2
                // });
                
            })
        </script>
</body>

</html>
