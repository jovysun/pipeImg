<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>图片编辑</title>
    <!-- <link rel="stylesheet" href="dist/css/pipeImg.css"> -->
</head>

<body>
    <h1 style="text-align:center;padding: 10px;"><button class="J-btn-edit" style="font-size: 20px;">编辑</button></h1>
    
    <div id="J-preview-container"></div>

    <script src="/libs/jquery.js"></script>
    <script src="/libs/template.js"></script>
    <script src="./dist/js/pipeImg.bundle.min.js"></script>
    <!-- <script src="./dist/js/pipeImg.thin.min.js"></script> -->
    <script>
        
        var source = [
            {
                "id":"567701",
                "url":"./images/Jellyfish.jpg"
            },
            {
                "id":"567711",
                "url":"./images/greensock.png"
            },
            {
                "id":"567721",
                "url":"./images/Lighthouse.jpg"
            }
        ];
        $('.J-btn-edit').on('click', function(){
            var pipeImg = new PipeImg({          
                // source: ['./images/Jellyfish.jpg', './images/greensock.png', './images/Lighthouse.jpg'],
                source: source,
                uploadUrl: '/pic.do?xcase=uploadWs',
                debug: true,
                onInited: function() {
                    // Select.use('.J-markTxt');
                },
                onComplete: function(data) {
                    console.log('photos: ', JSON.stringify(data));
                    for (var i = 0; i < data.length; i++) {
                        var element = data[i];
                        $('#J-preview-container').append($('<img>').attr('src', element.url));
                    }
                    
                }
            });
            
        })


    </script>
</body>

</html>
